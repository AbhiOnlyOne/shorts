# The Two Metrics You Need

When interviewing candidates for Instacart’s first site reliability engineer, I volunteered to cover monitoring as one of my topics. I’d start by asking “What metrics should we be monitoring?”

One candidate gave an answer that astounded me.  He said,

> There are only two things I care about: errors and latency

More specifically:

- the sum of 5xx status codes
- average latency across all requests

Both must be measured **at the load balancer**. Errors include those generated by the application and by the load balancer.

Here's how to get them.

## Amazon ELB

CloudWatch gives them for free

- Errors = Sum ELB 5XXs + Sum HTTP 5XXs
- Latency = Average Latency

## Heroku

### Errors

Add Papertrail

```sh
heroku addons:add papertrail
```

and create an alert for

```
program:heroku/router status=5
```

### Latency

Add NewRelic

```sh
heroku addons:add newrelic
```
